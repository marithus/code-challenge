# Problem 3: WalletPage Component Issues

## 1. Computational Inefficiencies

- **Redundant `getPriority` Calls:** The `getPriority` function is called repeatedly for the same items within the `.sort()` method's comparator function. This is inefficient because the priority for each balance could be calculated just once.

- **Unnecessary `useMemo` Dependency:** The `useMemo` hook for `sortedBalances` includes `prices` in its dependency array, but the `prices` variable is not actually used inside the hook. This causes the expensive sorting and filtering operations to re-run every time `prices` changes, even when it's not necessary.

- **Unused Mapping Operation:** The code creates a `formattedBalances` variable by mapping over `sortedBalances`. However, this new variable is never used. The `rows` are generated by mapping over `sortedBalances` again, making the creation of `formattedBalances` a wasted computation.

## 2. Bugs and Anti-Patterns

- **Reference to Undefined Variable:** The filter logic contains `if (lhsPriority > -99)`, but `lhsPriority` is not defined within that scope, which will cause a runtime error.

- **Incorrect Filtering Logic:** The logic `if (balance.amount <= 0) { return true; }` is flawed. It appears the intention was to filter out balances with zero or negative amounts, but the logic does the opposite for balances that have a priority. The correct and simpler approach would be to filter for balances where `balance.amount > 0`.

- **Missing `blockchain` Property:** The `WalletBalance` interface does not include the `blockchain` property, but it's accessed in `getPriority(balance.blockchain)`. This would result in a TypeScript compilation error.

- **Use of `any` Type:** The `getPriority` function accepts `blockchain: any`, which defeats the purpose of using TypeScript and removes type safety. It should be typed as `string`.

- **Using Index as React `key`:** The `rows` are mapped using `key={index}`. This is an anti-pattern in React. When the list is re-ordered, React can get confused and may not update the UI correctly. A unique and stable identifier, like `balance.currency`, should be used instead.

- **Unused `children` Prop:** The component is structured to accept a `children` prop, but it is never rendered. This is misleading as it implies functionality that doesn't exist. Proper business logic would be required to implement how and where any child components should be displayed.
